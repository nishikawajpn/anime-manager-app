(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{502:function(e,t,r){"use strict";r.r(t);r(51),r(38),r(65),r(27),r(10),r(66),r(74);var n=r(17);r(94),r(6),r(92),r(57),r(58),r(278),r(173);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,f=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){f=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(f)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var l={data:function(){return{searchResults:[],noItemMessage:""}},computed:{favoriteAnimes:function(){return this.$store.getters["anime/getFavoriteAnimes"]},userId:function(){return this.$store.getters["auth/getUserId"]}},methods:{searchAnime:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,f,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"https://api.jikan.moe/v4/anime?",n=new URLSearchParams({q:e}).toString(),r.next=5,fetch("https://api.jikan.moe/v4/anime?"+n).then((function(e){return e.json()}));case 5:(c=r.sent).data.length<=0&&(t.noItemMessage="検索ワードに一致する結果が見つかりません。"),t.searchResults=[],l=o(c.data);try{for(h=function(){var e=f.value,r=!!t.favoriteAnimes.find((function(t){return t.title===e.title_japanese}));t.searchResults.push({title:e.title_japanese,image:e.images.jpg.image_url,favorite:r})},l.s();!(f=l.n()).done;)h()}catch(e){l.e(e)}finally{l.f()}sessionStorage.setItem("searchResults",""),sessionStorage.removeItem("searchResults"),sessionStorage.setItem("searchResults",JSON.stringify(t.searchResults)),t.$router.push("/anime/search");case 14:case"end":return r.stop()}}),r)})))()},updateSearchResults:function(){this.searchResults=JSON.parse(sessionStorage.getItem("searchResults"))}}},f=l,h=r(63),component=Object(h.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("NuxtChild",{attrs:{"user-id":e.userId,"favorite-animes":e.favoriteAnimes,"search-results":e.searchResults,"no-item-message":e.noItemMessage},on:{"search-anime":e.searchAnime,"update-search-results":e.updateSearchResults}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);